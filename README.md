<div align="center">
  
  <img src="images/logo.png" alt="Sayonika" width="400" height="200">
  
  <h3>✨ Extract RenPy game archives with ease ✨</h3>
  
  <br>
  
  <h4>🌟 Modern, feature-rich RPA extraction library for Node.js 🌟</h4>
  
  <br>
  
  <p><strong>👨‍💻 Maintainer:</strong> <a href="https://github.com/Dynamicaaa">Dynamicaaa</a></p>
  
  <br>
  
</div>

<div align="center">

## ✨ Features

<br>

</div>

<center>
<div align="center">
<table style="margin: 0 auto; border-collapse: collapse; width: 90%; max-width: 800px; margin-left: auto; margin-right: auto; display: table;">
<tr>
<th style="text-align: center; padding: 12px; border: 1px solid #ddd; background-color: #f8f9fa; font-weight: bold;">🌟 <strong>Core Features</strong></th>
<th style="text-align: center; padding: 12px; border: 1px solid #ddd; background-color: #f8f9fa; font-weight: bold;">🚀 <strong>Advanced Features</strong></th>
</tr>
<tr>
<td style="text-align: center; padding: 12px; border: 1px solid #ddd;">🎯 <strong>Multi-Version Support</strong> - RPA-1.0 to RPA-4.0 compatibility</td>
<td style="text-align: center; padding: 12px; border: 1px solid #ddd;">🔍 <strong>Smart Decompression</strong> - Automatic zlib handling with fallback</td>
</tr>
<tr>
<td style="text-align: center; padding: 12px; border: 1px solid #ddd;">📦 <strong>Dual Interface</strong> - CLI tool and Node.js module</td>
<td style="text-align: center; padding: 12px; border: 1px solid #ddd;">⭐ <strong>XOR Decryption</strong> - Handle encrypted RPA archives</td>
</tr>
<tr>
<td style="text-align: center; padding: 12px; border: 1px solid #ddd;">🔐 <strong>Pickle Parsing</strong> - Uses pickleparser for index handling</td>
<td style="text-align: center; padding: 12px; border: 1px solid #ddd;">🏷️ <strong>File Listing</strong> - Enumerate archive contents</td>
</tr>
<tr>
<td style="text-align: center; padding: 12px; border: 1px solid #ddd;">🌐 <strong>Cross-Platform</strong> - Works on Windows, macOS, and Linux</td>
<td style="text-align: center; padding: 12px; border: 1px solid #ddd;">👤 <strong>Error Handling</strong> - Comprehensive error management</td>
</tr>
<tr>
<td style="text-align: center; padding: 12px; border: 1px solid #ddd;">🎨 <strong>Modern Design</strong> - Clean, asynchronous API</td>
<td style="text-align: center; padding: 12px; border: 1px solid #ddd;">🛡️ <strong>Performance</strong> - Efficient memory usage and caching</td>
</tr>
</table>
</div>
</center>

<div align="center">

---

</div>

<div align="center">

## 🤔 Why RPX?

</div>

<div align="center">

### 📈 **The Evolution of RPA Extraction**

</div>

While there have been various RPA extraction tools, **RPX** represents the next generation of RPA handling libraries. Built with modern JavaScript and Node.js, it addresses the limitations of previous solutions:

<center>
<div align="center">
<table style="margin: 0 auto; border-collapse: collapse; width: 70%; max-width: 600px; margin-left: auto; margin-right: auto; display: table;">
<tr>
<th style="text-align: center; padding: 12px; border: 1px solid #ddd; background-color: #f8f9fa; font-weight: bold;">✅ <strong>RPX Advantages</strong></th>
</tr>
<tr>
<td style="text-align: center; padding: 12px; border: 1px solid #ddd;"><strong>Full version support</strong> - Handles all RPA formats from 1.0 to 4.0</td>
</tr>
<tr>
<td style="text-align: center; padding: 12px; border: 1px solid #ddd;"><strong>Active development</strong> with regular updates and new features</td>
</tr>
<tr>
<td style="text-align: center; padding: 12px; border: 1px solid #ddd;"><strong>Modern JavaScript</strong> with async/await and Promises</td>
</tr>
<tr>
<td style="text-align: center; padding: 12px; border: 1px solid #ddd;"><strong>Comprehensive API</strong> for both programmatic and CLI usage</td>
</tr>
<tr>
<td style="text-align: center; padding: 12px; border: 1px solid #ddd;"><strong>Robust error handling</strong> with descriptive error messages</td>
</tr>
</table>
</div>
</center>

<div align="center">

### 🆚 **Why Choose RPX Over Alternatives?**

</div>

RPX offers significant advantages over other RPA extraction methods:

<center>
<div align="center">
<table style="margin: 0 auto; border-collapse: collapse; width: 90%; max-width: 800px; margin-left: auto; margin-right: auto; display: table;">
<tr>
<th style="text-align: center; padding: 12px; border: 1px solid #ddd; background-color: #e8f5e8; font-weight: bold;">🏆 <strong>RPX</strong></th>
<th style="text-align: center; padding: 12px; border: 1px solid #ddd; background-color: #fff2e8; font-weight: bold;">📁 <strong>Traditional Tools</strong></th>
</tr>
<tr>
<td style="text-align: center; padding: 12px; border: 1px solid #ddd; background-color: #f8fff8;">✅ <strong>Complete Version Support</strong><br/><em>All RPA formats handled</em></td>
<td style="text-align: center; padding: 12px; border: 1px solid #ddd; background-color: #fff8f8;">❌ <strong>Limited Compatibility</strong><br/><em>Only specific versions</em></td>
</tr>
<tr>
<td style="text-align: center; padding: 12px; border: 1px solid #ddd; background-color: #f8fff8;">✅ <strong>Dual Interface</strong><br/><em>CLI and programmatic access</em></td>
<td style="text-align: center; padding: 12px; border: 1px solid #ddd; background-color: #fff8f8;">❌ <strong>Single Interface</strong><br/><em>Only command-line or library</em></td>
</tr>
<tr>
<td style="text-align: center; padding: 12px; border: 1px solid #ddd; background-color: #f8fff8;">✅ <strong>Modern JavaScript</strong><br/><em>Async/await and Promises</em></td>
<td style="text-align: center; padding: 12px; border: 1px solid #ddd; background-color: #fff8f8;">❌ <strong>Legacy Code</strong><br/><em>Callback-based or synchronous</em></td>
</tr>
<tr>
<td style="text-align: center; padding: 12px; border: 1px solid #ddd; background-color: #f8fff8;">✅ <strong>Active Maintenance</strong><br/><em>Regular updates and fixes</em></td>
<td style="text-align: center; padding: 12px; border: 1px solid #ddd; background-color: #fff8f8;">❌ <strong>Abandoned Projects</strong><br/><em>No ongoing development</em></td>
</tr>
<tr>
<td style="text-align: center; padding: 12px; border: 1px solid #ddd; background-color: #f8fff8;">✅ <strong>Comprehensive Testing</strong><br/><em>Verified with real RPA files</em></td>
<td style="text-align: center; padding: 12px; border: 1px solid #ddd; background-color: #fff8f8;">❌ <strong>Limited Testing</strong><br/><em>Untested with various formats</em></td>
</tr>
<tr>
<td style="text-align: center; padding: 12px; border: 1px solid #ddd; background-color: #f8fff8;">✅ <strong>Error Recovery</strong><br/><em>Graceful handling of issues</em></td>
<td style="text-align: center; padding: 12px; border: 1px solid #ddd; background-color: #fff8f8;">❌ <strong>Crash-Prone</strong><br/><em>Failures on malformed files</em></td>
</tr>
</table>
</div>
</center>

<div align="center">

<br>

> 💡 **RPX combines the accessibility of a CLI tool with the power of a programmatic library, making RPA extraction simple and reliable.**

</div>

<div align="center">

---

## 🚀 Quick Start

<br>

### 📦 **Installation**

</div>

```bash
# Install globally for CLI usage
npm install -g rpx

# Or install locally for programmatic usage
npm install rpx
```

<div align="center">

### 🌐 **CLI Usage**

</div>

```bash
# Extract all files from an RPA archive
rpx extract -i game.rpa -o extracted/

# Extract a specific file
rpx extract -i game.rpa -o extracted/ -f "script.rpy"

# List files in an RPA archive
rpx list -i game.rpa

# Show information about an RPA archive
rpx info -i game.rpa
```

<div align="center">

### 💻 **Programmatic Usage**

</div>

```javascript
const { RPX, extract, list } = require('rpx');

// Create an RPX instance
const rpx = new RPX('game.rpa');

// Extract all files
await rpx.extractAll('extracted/');

// Extract a specific file
await rpx.extractFile('script.rpy', 'extracted/script.rpy');

// List all files
const files = await rpx.listFiles();
console.log(files);

// Or use convenience functions
await extract('game.rpa', 'extracted/');
const fileList = await list('game.rpa');
```

<div align="center">

---

## 🛠️ Development

<br>

### **Run from Source**

</div>

```bash
# Clone the repository
git clone https://github.com/Dynamicaaa/rpx
cd rpx

# Install dependencies
npm install

# Test the library
npm test

# Use the CLI
node bin/rpx.js --help
```

<div align="center">

### **API Documentation**

</div>

<center>
<div align="center">
<table style="margin: 0 auto; border-collapse: collapse; width: 90%; max-width: 800px; margin-left: auto; margin-right: auto; display: table;">
<tr>
<th style="text-align: center; padding: 12px; border: 1px solid #ddd; background-color: #f0f8ff; font-weight: bold;">🎯 <strong>RPX Class</strong></th>
<th style="text-align: center; padding: 12px; border: 1px solid #ddd; background-color: #fff8f0; font-weight: bold;">⚡ <strong>Convenience Functions</strong></th>
</tr>
<tr>
<td style="text-align: center; padding: 12px; border: 1px solid #ddd;">🔍 <strong>new RPX(filePath)</strong> - Create extractor instance</td>
<td style="text-align: center; padding: 12px; border: 1px solid #ddd;">⚡ <strong>extract(filePath, outputDir)</strong> - Extract all files</td>
</tr>
<tr>
<td style="text-align: center; padding: 12px; border: 1px solid #ddd;">📊 <strong>readHeader()</strong> - Parse archive header</td>
<td style="text-align: center; padding: 12px; border: 1px solid #ddd;">👤 <strong>list(filePath)</strong> - List archive contents</td>
</tr>
<tr>
<td style="text-align: center; padding: 12px; border: 1px solid #ddd;">🏷️ <strong>parseIndex()</strong> - Parse file index</td>
<td style="text-align: center; padding: 12px; border: 1px solid #ddd;">⭐ <strong>Automatic</strong> - No instance management needed</td>
</tr>
<tr>
<td style="text-align: center; padding: 12px; border: 1px solid #ddd;">📦 <strong>extractFile(name, path)</strong> - Extract single file</td>
<td style="text-align: center; padding: 12px; border: 1px solid #ddd;">🛡️ <strong>Promise-based</strong> - Modern async handling</td>
</tr>
<tr>
<td style="text-align: center; padding: 12px; border: 1px solid #ddd;">⚡ <strong>extractAll(path)</strong> - Extract all files</td>
<td style="text-align: center; padding: 12px; border: 1px solid #ddd;">🔧 <strong>Flexible</strong> - Choose what works best</td>
</tr>
<tr>
<td style="text-align: center; padding: 12px; border: 1px solid #ddd;">🔍 <strong>listFiles()</strong> - Get file list</td>
<td style="text-align: center; padding: 12px; border: 1px solid #ddd;">🎯 <strong>Efficient</strong> - Cached results</td>
</tr>
</table>
</div>
</center>

<div align="center">

---

## 🐛 Debug Tools

<br>

Set these environment variables to enable debugging features:

<br>

</div>

<center>
<div align="center">
<table style="margin: 0 auto; border-collapse: collapse; width: 80%; max-width: 700px; margin-left: auto; margin-right: auto; display: table;">
<tr>
<th style="text-align: center; padding: 12px; border: 1px solid #ddd; background-color: #f8f9fa; font-weight: bold;">🔧 <strong>Variable</strong></th>
<th style="text-align: center; padding: 12px; border: 1px solid #ddd; background-color: #f8f9fa; font-weight: bold;">📋 <strong>Purpose</strong></th>
</tr>
<tr>
<td style="text-align: center; padding: 12px; border: 1px solid #ddd; font-family: monospace; background-color: #f0f0f0;"><code>NODE_ENV</code></td>
<td style="text-align: center; padding: 12px; border: 1px solid #ddd;">🔧 Set to 'development' for debug mode</td>
</tr>
<tr>
<td style="text-align: center; padding: 12px; border: 1px solid #ddd; font-family: monospace; background-color: #f0f0f0;"><code>DEBUG</code></td>
<td style="text-align: center; padding: 12px; border: 1px solid #ddd;">🔍 Enable detailed logging output</td>
</tr>
<tr>
<td style="text-align: center; padding: 12px; border: 1px solid #ddd; font-family: monospace; background-color: #f0f0f0;"><code>RPX_DEBUG</code></td>
<td style="text-align: center; padding: 12px; border: 1px solid #ddd;">📦 Enable RPX-specific debugging</td>
</tr>
</table>
</div>
</center>

<div align="center">

---

## 🤝 Contributing

<br>

We welcome contributions! Here's how you can help:

<br>

</div>

<center>
<div align="center">
<table style="margin: 0 auto; border-collapse: collapse; width: 90%; max-width: 800px; margin-left: auto; margin-right: auto; display: table;">
<tr>
<th style="text-align: center; padding: 12px; border: 1px solid #ddd; background-color: #fff0f0; font-weight: bold;">🐛 <strong>Bug Reports</strong></th>
<th style="text-align: center; padding: 12px; border: 1px solid #ddd; background-color: #f0f0ff; font-weight: bold;">💡 <strong>Feature Requests</strong></th>
</tr>
<tr>
<td style="text-align: center; padding: 12px; border: 1px solid #ddd;">🔍 <strong>Find Issues</strong> - Help us identify problems</td>
<td style="text-align: center; padding: 12px; border: 1px solid #ddd;">🚀 <strong>Suggest Features</strong> - Share your creative ideas</td>
</tr>
<tr>
<td style="text-align: center; padding: 12px; border: 1px solid #ddd;">📝 <strong><a href="https://github.com/Dynamicaaa/rpx/issues/new" style="text-decoration: none;">Create Reports</a></strong> - Detailed bug descriptions</td>
<td style="text-align: center; padding: 12px; border: 1px solid #ddd;">🎯 <strong>Improve UX</strong> - Help make the library better</td>
</tr>
<tr>
<th style="text-align: center; padding: 12px; border: 1px solid #ddd; background-color: #f0fff0; font-weight: bold;">🔧 <strong>Code Contributions</strong></th>
<th style="text-align: center; padding: 12px; border: 1px solid #ddd; background-color: #fff8f0; font-weight: bold;">📖 <strong>Documentation</strong></th>
</tr>
<tr>
<td style="text-align: center; padding: 12px; border: 1px solid #ddd;">📄 <strong>Submit Pull Requests</strong> - Help improve the codebase</td>
<td style="text-align: center; padding: 12px; border: 1px solid #ddd;">✍️ <strong>Improve Docs</strong> - Make things clearer for everyone</td>
</tr>
<tr>
<td style="text-align: center; padding: 12px; border: 1px solid #ddd;">🧪 <strong>Write Tests</strong> - Ensure code quality</td>
<td style="text-align: center; padding: 12px; border: 1px solid #ddd;">🌍 <strong>Examples</strong> - Help others learn</td>
</tr>
</table>
</div>
</center>

<div align="center">

---

## 📄 Licenses and Acknowledgements

<br>

**📜 RPX** is licensed under the [**MIT License**](LICENSE)

<br>

This library uses the following dependencies:
- **pickleparser** - For Python pickle format handling
- **yargs** - For command-line argument parsing

<br>

---

</div>

<div align="center">

Built with ❤️ for the RenPy modding community

</div>
